<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<link rel="stylesheet" type="text/css" href="css/style.css"/>
<script type="text/javascript" src="js/xml.js"></script>

<script type="text/javascript">
	
	window.onload=function() {
		var btnProcess = document.getElementById("process");
		btnProcess.onclick = function(){
			
			var xmlDOM = loadFile("files/01-books.xml","GET","xml");
			
			var str = '';
			var title;
						
			console.log(xmlDOM.evaluate);
			if(xmlDOM.evaluate){//Chrome - W3C
				title = xmlDOM.evaluate("//title",xmlDOM,null,XPathResult.ANY_TYPE,null);	
				console.log(title);
				titleResult = title.iterateNext();
				
				console.log(titleResult);
				
				
				author = xmlDOM.evaluate("//author",xmlDOM,null,XPathResult.ANY_TYPE,null);	
				authorResult = author.iterateNext();
				
				real = xmlDOM.evaluate("//real",xmlDOM,null,XPathResult.ANY_TYPE,null);	
				realResult = real.iterateNext();
				
				
				while(titleResult){
					console.log(titleResult.childNodes[0].nodeValue);
					titleResult = title.iterateNext();
					
					console.log(authorResult.childNodes[0].nodeValue);
					authorResult = author.iterateNext();
					
					console.log(realResult.childNodes[0].nodeValue);
					realResult = real.iterateNext();
				}
				
				
			}else{//IE
				
			}
			
			var boxA = document.getElementById("boxA");
			boxA.innerHTML = str;
		}
	}

</script>
</head>

<body>

	<div id="boxA" class="boxA">
    </div>
    
   <div style="text-align: center; padding: 5px;">
    	<input type="button" id="process" name="process" class="button" value="Process" />
    </div>
</body>
</html>
