<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<link rel="stylesheet" type="text/css" href="css/style.css"/>
<script type="text/javascript" src="js/xml.js"></script>

<script type="text/javascript">
	
	
	
	window.onload=function() {
		var btnProcess = document.getElementById("process");
		btnProcess.onclick = function(){
			
			var xmlDOM = loadFile("files/01-books.xml","GET","xml");
			
			var str = '';
			var books = xmlDOM.getElementsByTagName("book");
			console.log(books);
			for(var i=0; i<books.length; i++){
				var book = books[i];
				console.log(book);
				
				var title = book.childNodes[1].childNodes[0].nodeValue;				
				str += "Title: " + title + "<br />";
				
				var author = book.childNodes[3].childNodes[0].nodeValue;	
				str += "Author: " + author + "<br />";	
				
				var page = book.childNodes[5].childNodes[0].nodeValue;	
				str += "Page: " + page + "<br />";	
				
				var weight 	= book.childNodes[7].childNodes[0].nodeValue;
				var units 	= book.childNodes[7].getAttribute("units");	
				str += "Weight: " + weight + units + "<br />";
				
				var price 	= book.childNodes[9];	 
				var real 	= price.childNodes[1].childNodes[0].nodeValue;
				var saleoff = price.childNodes[3].childNodes[0].nodeValue;
				str += "Real price: " + real + "<br />";
				str += "Saleoff price: " + saleoff + "<br />";
				
				var ship 	= book.childNodes[11];	 
				var US 		= ship.childNodes[1].childNodes[0].nodeValue;
				var EU		= ship.childNodes[3].childNodes[0].nodeValue;
				var VN		= ship.childNodes[5].childNodes[0].nodeValue;
				str += "Shipping to US: " + US + "<br />";
				str += "Shipping to EU: " + EU + "<br />";
				str += "Shipping to VN: " + VN + "<br />";
				
				str += "<br />===========================<br />";	
				
			}
			var boxA = document.getElementById("boxA");
			boxA.innerHTML = str;
			
		}
	}

</script>
</head>

<body>

	<div id="boxA" class="boxA">
    </div>
    
   <div style="text-align: center; padding: 5px;">
    	<input type="button" id="process" name="process" class="button" value="Process" />
    </div>
</body>
</html>
